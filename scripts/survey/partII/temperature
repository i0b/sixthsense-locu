source template

INTENSITY="0"

function setIntensity {
  INTENSITY="0"
  for i in $(seq 1 $1); do
    let "INTENSITY<<=1"
    let "INTENSITY+=1"
  done
}

function applyValues {
  setIntensity $INTENSITY1

  echo "sm $ACTUATOR $ACTUATOR_MODE six/0.1" > $PORT
  echo "sp $ACTUATOR $PARAMETER six/0.1" > $PORT

  if [ "$1" == "showValues" ]; then
    echo "Intensity: $INTENSITY1" > $TTY
  else
    echo "#$SEQUENCE_NUMBER" > $TTY
  fi

  echo "si $ACTUATOR $INTENSITY six/0.1" > $PORT
  sleep "$INTERVAL1"


  setIntensity $INTENSITY2
  if [ "$1" == "showValues" ]; then
    echo "Intensity: $INTENSITY2" > $TTY
  fi
  echo "si $ACTUATOR $INTENSITY six/0.1" > $PORT
  sleep "$INTERVAL2"

  echo "sm $ACTUATOR OFF six/0.1" > $PORT
}
